<div class="ui-grid-cell-contents" uib-dropdown dropdown-append-to-body>

  <a uib-dropdown-toggle href>
    <span data-method="action" translate>FORM.BUTTONS.ACTIONS</span>
    <span class="caret"></span>
  </a>

  <ul class="dropdown-menu-right" data-list="{{ rowRenderIndex }}" uib-dropdown-menu>
    <li>
      <a ng-click="grid.appScope.openReceiptModal(row.entity.uuid, false, grid.appScope.receiptOptions)" data-method="invoiceReceipt" href>
        <i class="fa fa-file-pdf-o"></i> <span translate>REPORT.VIEW_RECEIPT</span>
      </a>
    </li>

    <li class="divider"></li>

    <!-- view linked records -->
    <li>
      <a ui-sref="patientRegistry({ filters : { key : 'display_name', value : row.entity.patientName }})" data-method="viewPatient" href>
        <i class="fa fa-user"></i> <span translate>REPORT.VIEW_PATIENT</span>
      </a>
    </li>
    <li>
      <a data-method="viewPayment" ui-sref="cashRegistry({ filters : { key : 'invoice_uuid', value : row.entity.uuid }})" href>
        <span class="fa fa-money"></span> <span translate>REPORT.VIEW_PAYMENTS</span>
      </a>
    </li>
    <li>
      <a data-method="viewInvoice" ui-sref="journal({ filters : [{ key: 'record_uuid', value : row.entity.uuid, displayValue: row.entity.reference}, { key : 'period', value : 'allTime' }, { key : 'includeNonPosted', value : 1 }]})" href>
        <span class="fa fa-file-text-o"></span> <span translate>TRANSACTIONS.VIEW_TRANSACTIONS</span>
      </a>
    </li>

    <!-- reverse or remove records -->
    <li class="divider"></li>

    <li ng-show="row.entity._is_cancelled">
      <a ng-click="grid.appScope.creditNoteReceipt(row.entity.uuid)" data-method="creditNoteReceipt" href>
        <i class="fa fa-file-pdf-o"></i> <span translate>REPORT.VIEW_CREDIT_NOTE</span>
      </a>
    </li>

    <li ng-hide="row.entity._is_cancelled">
      <a ng-click="grid.appScope.creditNote(row.entity)" data-method="createCreditNote" href>
        <span class="text-danger"><i class="fa fa-clone"></i> <span translate>FORM.LABELS.CREATE_CREDIT_NOTE</span></span>
      </a>
    </li>

    <li ng-hide="row.entity._is_cancelled">
      <a href ng-click="grid.appScope.deleteInvoice(row.entity)" data-method="delete">
        <span class="text-danger"><i class="fa fa-trash"></i> <span translate>FORM.BUTTONS.DELETE_RECORD</span></span>
      </a>
    </li>

   </ul>
</div>

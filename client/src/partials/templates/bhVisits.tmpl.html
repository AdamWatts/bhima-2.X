<div class="panel panel-default">

  <div class="panel-heading clearfix">
    {{ "PATIENT_RECORDS.VISITS.TITLE" | translate }} ({{$ctrl.visits.length}})

    <span class="pull-right">
      <bh-pdf-link
        pdf-url="reports/medical/patients/{{ CheckInCtrl.id }}/vists"
        disable-cache="true">
      </bh-pdf-link>
    </span>
  </div>

  <div class="panel-body" style="height : 250px; overflow-y : auto;">

    <!-- <bh-loading-button -->
      <!-- id="checkin" -->
      <!-- loading-state="CheckInCtrl.checkingIn" -->
      <!-- button-class="btn-default btn-block" -->
      <!-- ng-click="CheckInCtrl.checkin()"> -->
      <!-- <i class="fa fa-sign-in"></i> -->
      <!-- {{ "PATIENT_RECORDS.CHECK_IN.SUBMIT" | translate }} -->
    <!-- </bh-loading-button> -->

    <div style="text-align : center">
      <p ng-if="$ctrl.loaded && $ctrl.visits.length===0">
        {{ "PATIENT_RECORDS.VISITS.ORIGINAL" | translate }}
      </p>


      <button class="btn btn-default" ng-click="$ctrl.admit()">
        {{ $ctrl.visiting ? "PATIENT_RECORDS.VISITS.DISCHARGE" : "PATIENT_RECORDS.VISITS.ADMIT" | translate }}
      </button>

    </div>

    <br />

    <div ng-if="$ctrl.loaded && $ctrl.visits.length">
      <p><b>{{ "PATIENT_RECORDS.VISITS.RECENT" | translate }}</b></p>

      <ul class="list-unstyled">
        <li data-check-entry ng-repeat="visit in $ctrl.visits | limitTo : CheckInCtrl.limitVisitDisplay">
          <i class="fa fa-check-square-o"></i> {{ "PATIENT_RECORDS.CHECK_IN.ITEM" | translate }} <b><span am-time-ago="visit.start_date"></span></b> {{ "PATIENT_RECORDS.CHECK_IN.BY" | translate }} {{ visit.username }}
          <br />
          <span class="icon-spacer text-muted"><i>{{visit.start_date | date : 'medium'}}</i></span>
        </li>
      </ul>
    </div>
  </div>
</div>
